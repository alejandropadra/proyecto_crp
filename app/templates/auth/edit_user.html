{% extends 'layout.html' %}
{% from 'helpers/_forms.html' import render_field %}

{% block estilos %}
    
    <!-- CSS Custom -->
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/list_users.css') }}">

    {% endblock%}
{% block container %}

<main>



  <div class="container d-flex justify-content-center align-content-start ">
    <div class="">
      <a href="{{ url_for('.usuarios') }}" class="btn-volver">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-big-left-icon lucide-arrow-big-left"><path d="M13 9a1 1 0 0 1-1-1V5.061a1 1 0 0 0-1.811-.75l-6.835 6.836a1.207 1.207 0 0 0 0 1.707l6.835 6.835a1 1 0 0 0 1.811-.75V16a1 1 0 0 1 1-1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1z"/></svg>
        Volver
      </a>
    </div>

    <div class="card-ui min-h-100 w-75 ">
      <div class="card-user-header">

        <div class=" perfil">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-building2-icon lucide-building-2"><path d="M10 12h4"/><path d="M10 8h4"/><path d="M14 21v-3a2 2 0 0 0-4 0v3"/><path d="M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2"/><path d="M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16"/></svg>
        </div>

      </div>

      <div class=" card-user-body">
        <div class="presentacion">
          <h1>{{user.username}}</h1>
          <div class=" d-flex align-content-center gap-3">
            <div class="badge-perfil azul">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail-icon lucide-mail"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect x="2" y="4" width="20" height="16" rx="2"/></svg>
              <p>{{user.email}}</p>
            </div>

            <div class="badge-perfil ">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-id-card-icon lucide-id-card"><path d="M16 10h2"/><path d="M16 14h2"/><path d="M6.17 15a3 3 0 0 1 5.66 0"/><circle cx="9" cy="11" r="2"/><rect x="2" y="5" width="20" height="14" rx="2"/></svg>
              <p>{{user.rif}}</p>
            </div>
          </div>
        </div>

        <div class="campos-edicion-user">
          <form class="form" id="form-edit-user" method = "POST"> 
            <input type="hidden" name="rifCompleto" id="rifCompleto" value="{{user.rif}}">
          <div class="campo-user">
            <div class=" d-flex flex-column gap-2">
              <div class=" fw-bold">
                Rif del Usuario
              </div>
              <div class="row g-2">
                  <div class="col-2">
                      <div class="input-wrapper">
                          <select class="form-input" disabled>
                            <option value="{{letra_rif}}">{{letra_rif}}</option>
                          </select>
                      </div>
                  </div>
                  <div class="col">
                      <div class="input-wrapper">
                          <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                              <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                              <circle cx="12" cy="7" r="4"/>
                          </svg>

                          {{ render_field(form.rif, class="form-input", id="numeroRif", placeholder="Ingrese el numero de identidad", disabled=disabled) }}
                      </div>
                  </div>
                </div>
            </div>
          </div>

          <div class="campo-user">
            <div class=" d-flex flex-column align-content-center justify-content-between gap-2">
                <div class=" fw-bold">
                    Nombre de Usuario
                </div>
                <div class="input-wrapper">
                    <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-pen-icon lucide-user-pen"><path d="M11.5 15H7a4 4 0 0 0-4 4v2"/><path d="M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/><circle cx="10" cy="7" r="4"/></svg>
                    {{ render_field(form.username, class ="form-input", id="username", class="form-input", placeholder="Ingrese el nombre de usuario") }}
                </div>
            </div>
          </div>

          <div class="campo-user">
            <div class=" d-flex flex-column align-content-center justify-content-between gap-2">
              <div class=" fw-bold">
                  Email del Usuario
              </div>
              <div class="input-wrapper">
                  <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail-icon lucide-mail"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect x="2" y="4" width="20" height="16" rx="2"/></svg>
                  {{ render_field(form.email, class ="form-input", id="email", class="form-input", placeholder="Ingrese el email del usuario") }}
              </div>
            </div>
          </div>

          <div class="campo-user">
            <div class=" d-flex flex-column align-content-center justify-content-between gap-2">
              <div class=" fw-bold">
                  Codigo del Usuario
              </div>
              <div class="input-wrapper">
                  <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail-icon lucide-mail"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect x="2" y="4" width="20" height="16" rx="2"/></svg>
                  {{ render_field(form.codigo, class ="form-input", id="codigo", class="form-input", placeholder="Ingrese el c칩digo del usuario") }}
              </div>
            </div>
          </div>

          <div class="campo-user">
            <div class=" d-flex flex-column align-content-center justify-content-between gap-2">
              <div class="row">
                
                <div class=" d-flex flex-column col align-content-center justify-content-between gap-2">
                  <div class=" fw-bold">
                      Nivel de Usuario 
                  </div>
                  <div class="input-wrapper">
                      <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cog-icon lucide-cog"><path d="M11 10.27 7 3.34"/><path d="m11 13.73-4 6.93"/><path d="M12 22v-2"/><path d="M12 2v2"/><path d="M14 12h8"/><path d="m17 20.66-1-1.73"/><path d="m17 3.34-1 1.73"/><path d="M2 12h2"/><path d="m20.66 17-1.73-1"/><path d="m20.66 7-1.73 1"/><path d="m3.34 17 1.73-1"/><path d="m3.34 7 1.73 1"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="12" r="8"/></svg>
                      {{ render_field(form.nivel, class ="form-input", id="nivel" ) }}
                  </div>
                </div>

                <div class=" d-flex flex-column col align-content-center justify-content-between gap-2">
                  <div class=" fw-bold">
                      Zona del Usuario 
                  </div>
                  <div class="input-wrapper">
                      <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin-icon lucide-map-pin"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/></svg>
                      {{ render_field(form.zona, class ="form-input", id="zona" ) }}
                  </div>
                </div>

                <div class=" d-flex flex-column col align-content-center justify-content-between gap-2">
                  <div class=" fw-bold">
                      Vendedor Asignado
                  </div>
                  <div class="input-wrapper">
                      <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase-business-icon lucide-briefcase-business"><path d="M12 12h.01"/><path d="M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"/><path d="M22 13a18.15 18.15 0 0 1-20 0"/><rect width="20" height="14" x="2" y="6" rx="2"/></svg>
                      {{ render_field(form.seller, class ="form-input", id="vendedor", placeholder="Nombre del vendedor" ) }}
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="campo-user">
            <div class=" d-flex flex-column align-content-center justify-content-between gap-2">
              <div class=" fw-bold">
                  Contrase침a
              </div>
              <div class="d-flex align-content-center gap-2">
                <div class="input-wrapper position-relative">
                  <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock-keyhole-icon lucide-lock-keyhole"><circle cx="12" cy="16" r="1"/><rect x="3" y="10" width="18" height="12" rx="2"/><path d="M7 10V7a5 5 0 0 1 10 0v3"/></svg>
                  {{ render_field(form.password, class ="form-input", id="password", placeholder="Ingrese la contrase침a" ) }}
                    <button type="button" class="btn-toggle-password" data-target="password">
                        <svg class="eye-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                        <svg class="eye-off-icon" style="display: none;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/>
                            <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/>
                            <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/>
                            <line x1="2" x2="22" y1="2" y2="22"/>
                        </svg>
                    </button>
                  </div>

                <div class="input-wrapper position-relative">
                  <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-key-round-icon lucide-key-round"><path d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"/><circle cx="16.5" cy="7.5" r=".5" fill="currentColor"/></svg>
                  {{ render_field(form.confirm_password, class ="form-input", id="confirmar", placeholder="Confirme la contrase침a" ) }}
                  <button type="button" class="btn-toggle-password" data-target="confirmar">
                      <svg class="eye-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                          <circle cx="12" cy="12" r="3"/>
                      </svg>
                      <svg class="eye-off-icon" style="display: none;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/>
                          <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/>
                          <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/>
                          <line x1="2" x2="22" y1="2" y2="22"/>
                      </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="campo-user">
            <div class=" d-flex justify-content-end gap-2 ">
              <a href="{{ url_for('.usuarios')}}" type="button" class="btn btn-secondary close-modal-add-users">Cancelar</a>
              {% if current_user.nivel =="administrador" %}
              <div class="contenedor-boton-add">
                <input type ="hidden" name = "csrf_token" value ="{{csrf_token()}}"/>
                <button id="enviarEdit" type="button" class="btn-add" style="font-size: 14px;">
                    <svg class="no" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-icon lucide-check"><path d="M20 6 9 17l-5-5"/></svg>
                    Editar Usuario
                </button>
              </div>
              {% endif %}
            </div>
          </div>

          </form>
        </div>
        
      </div>

    </div>
  </div>



</main>


{% endblock %}

{% block js%}

    <script src="{{ url_for('static', filename = 'js/edit_user.js') }}"></script>

{% endblock %}